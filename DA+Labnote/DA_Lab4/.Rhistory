knitr::opts_chunk$set(echo = TRUE)
library('tidyverse')
library('Lahman')
library('mosaicData')
library('mdsr')
library('babynames')
df2 <- HELPfull
knitr::opts_chunk$set(echo = TRUE)
library('tidyverse')
library('Lahman')
library('mosaicData')
library('mdsr')
library('babynames')
manny <- Batting %>% filter(playerID == "ramirma02")
head(manny)
manny %>% summarize(
span = paste(min(yearID), max(yearID), sep = "-"),
numYears = n_distinct(yearID), numTeams = n_distinct(teamID),
BA = sum(H)/sum(AB), tH = sum(H), tHR = sum(HR), tRBI = sum(RBI)
)
manny_q1 <- manny %>%
group_by(teamID) %>%
summarise(span = paste(min(yearID), max(yearID), sep = "-"), totalHit = sum(H), totalHR = sum(HR), BA = totalHit/sum(AB))
manny_q1
arrange(manny_q1, span)
table_q2 <- full_join(Batting, People, by = "playerID") %>%
mutate(fullName = paste(nameGiven, nameLast))
table_q2 %>%
group_by(fullName) %>%
summarise(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
table_q2a <- full_join(Batting, People, by = "playerID")%>%
mutate(fullName = paste(nameGiven, nameLast))
table_q2 %>%
group_by(playerID) %>%
summarise(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
table_q3 <- full_join(Pitching, People, by = "playerID") %>%
mutate(fullName = paste(nameGiven, nameLast))
df <- AwardsPlayers %>% filter(awardID == "World Series MVP")
table_q4 <- left_join(df, People, by = "playerID") %>%
select(playerID, awardID, yearID, nameFirst:nameGiven, birthYear:birthDay) %>%
arrange(desc(yearID)) %>%
slice_head(n = 10) %>%
mutate(age_at_award = ifelse(birthMonth <= 10, yearID - birthYear , yearID - birthYear + 1))
df2 <- HELPfull
HELPfull %>%
mutate(ID = )
View(df2)
HELPfull %>%
select(ID, TIME, DRUGRISK, SEXRISK)
table_q2 <- HELPfull %>%
select(ID, TIME, DRUGRISK, SEXRISK)
table_q2 %>%
filter(ID == 3)
table_q2 %>%
filter(ID == 3)
unique(table_q2b$TIME)
table_q2b <- table_q2 %>%
filter(ID == 3)
unique(table_q2b$TIME)
table_q2c <- table_q2 %>%
filter(TIME == (0|6))
View(table_q2c)
table_q2c <- table_q2 %>%
filter(TIME == 0|TIME == 6))
table_q2c <- table_q2 %>%
filter(TIME == 0|TIME == 6)
View(table_q2c)
table_q2c <- table_q2 %>%
filter(TIME == 0)
View(table_q2c)
View(table_q2a)
dfk <- HELPfull
View(dfk)
knitr::opts_chunk$set(echo = TRUE)
library('tidyverse')
library('Lahman')
library('mosaicData')
library('mdsr')
library('babynames')
manny <- Batting %>% filter(playerID == "ramirma02")
head(manny)
manny %>% summarize(
span = paste(min(yearID), max(yearID), sep = "-"),
numYears = n_distinct(yearID), numTeams = n_distinct(teamID),
BA = sum(H)/sum(AB), tH = sum(H), tHR = sum(HR), tRBI = sum(RBI)
)
manny_q1 <- manny %>%
group_by(teamID) %>%
summarise(span = paste(min(yearID), max(yearID), sep = "-"), totalHit = sum(H), totalHR = sum(HR), BA = totalHit/sum(AB))
manny_q1
arrange(manny_q1, span)
table_q2 <- full_join(Batting, People, by = "playerID") %>%
mutate(fullName = paste(nameGiven, nameLast))
table_q2 %>%
group_by(fullName) %>%
summarise(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
table_q2a <- full_join(Batting, People, by = "playerID")%>%
mutate(fullName = paste(nameGiven, nameLast))
table_q2 %>%
group_by(playerID) %>%
summarise(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
k <- table_q2 %>%
group_by(playerID) %>%
mutate(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
table_q3 <- full_join(Pitching, People, by = "playerID") %>%
mutate(fullName = paste(nameGiven, nameLast))
df <- AwardsPlayers %>% filter(awardID == "World Series MVP")
table_q4 <- left_join(df, People, by = "playerID") %>%
select(playerID, awardID, yearID, nameFirst:nameGiven, birthYear:birthDay) %>%
arrange(desc(yearID)) %>%
slice_head(n = 10) %>%
mutate(age_at_award = ifelse(birthMonth <= 10, yearID - birthYear , yearID - birthYear + 1))
table_q2 <- HELPfull %>%
select(ID, TIME, DRUGRISK, SEXRISK)
table_q2b <- table_q2 %>%
filter(ID == 3)
unique(table_q2b$TIME)
table_q2ca <- table_q2 %>%
filter(TIME == 0|TIME == 6, ID >= 1 & ID <= 3) %>%
select(-SEXRISK) %>%
pivot_wider(names_from = TIME, values_from = DRUGRISK)
colnames(table_q2ca) <- c('ID', 'DRUGRISK_0', 'DRUGRISK_6')
table_q2cb <- table_q2 %>%
filter(TIME == 0|TIME == 6, ID >= 1 & ID <= 3) %>%
select(-DRUGRISK) %>%
pivot_wider(names_from = TIME, values_from = SEXRISK)
colnames(table_q2cb) <- c('ID', 'SEXRISK_0', 'SEXRISK_6')
table_q2c <- full_join(table_q2ca, table_q2cb, join_by('ID'))
table_q2c
table_q2d <- table_q2 %>%
filter(TIME == 0|TIME == 6) %>%
pivot_wider(names_from = TIME, values_from = c(DRUGRISK, SEXRISK))
cor(table_q2d, use = "complete.obs")
Macbeth <- Macbeth_raw %>%
str_split("\r\n") %>%
pluck(1)#리스트의 첫 항만 가져오는 함수
Macbeth %>%
str_subset("[A-z]+-[A-z]+") %>%
str_extract("[A-z]+-[A-z]+")
Macbeth %>%
str_subset("[A-z]+(more|less) ") %>%
str_extract("[A-z]+(more|less)")
Macbeth %>%
str_subset("(Exit|Exeunt)")
table_q32 <- babynames %>%
group_by(name, sex) %>%
summarise(count = sum(n)) %>%
ungroup() # 질문해 두기!
babynames %>%
filter(sex == 'M', str_detect(babynames$name, "(a|e|i|o|u)$") == TRUE) %>%
group_by(name, sex) %>%
summarise(count = sum(n)) %>%
ungroup() %>%
slice_max(count, n = 10)
babynames %>%
filter(str_detect(babynames$name, "(joe|jo|Joe|Jo)$") == TRUE) %>%
group_by(name) %>%
summarise(count = sum(n)) %>%
ungroup() %>%
slice_max(count, n = 10)
k <- table_q2 %>%
group_by(playerID) %>%
mutate(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
k <- table_q2 %>%
group_by(playerID) %>%
mutate(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
table_q2 <- full_join(Batting, People, by = "playerID") %>%
mutate(fullName = paste(nameGiven, nameLast))
table_q2 %>%
group_by(fullName) %>%
summarise(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
table_q2a <- full_join(Batting, People, by = "playerID")%>%
mutate(fullName = paste(nameGiven, nameLast))
table_q2 %>%
group_by(playerID) %>%
summarise(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
k <- table_q2 %>%
group_by(playerID) %>%
mutate(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
k <- table_q2 %>%
group_by(playerID) %>%
mutate(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
View(k)
k <- table_q2 %>%
group_by(playerID) %>%
mutate(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
ungroup() %>%
slice_head(n = 20)
View(k)
k <- table_q2 %>%
group_by(playerID) %>%
mutate(totalHR = sum(HR)) %>%
ungroup() %>%
slice_head(n = 20)
View(k)
k <- table_q2 %>%
group_by(playerID) %>%
mutate(totalHR = sum(HR)) %>%
ungroup()
View(k)
k <- table_q2 %>%
group_by(playerID) %>%
mutate(totalHR = sum(HR)) %>%
ungroup() %>%
select(fullName, totalHR)
View(k)
k <- table_q2 %>%
group_by(playerID) %>%
mutate(totalHR = sum(HR)) %>%
ungroup() %>%
select(fullName, totalHR) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
View(k)
r <- Batting %>%
group_by(playerID) %>%
summarise(totalHR = sum(HR)) %>%
left_join(People, by = "playerID")
View(r)
r <- Batting %>%
group_by(playerID) %>%
summarise(totalHR = sum(HR)) %>%
left_join(People, by = "playerID") %>%
mutate(fullName = paste(nameGiven, nameLast))
View(r)
r <- Batting %>%
group_by(playerID) %>%
summarise(totalHR = sum(HR)) %>%
left_join(People, by = "playerID") %>%
mutate(fullName = paste(nameGiven, nameLast)) %>%
select(fullName, totalHR) %>%
arrange(desc(totalHR)) %>%
slice_max(n = 20)
r <- Batting %>%
group_by(playerID) %>%
summarise(totalHR = sum(HR)) %>%
left_join(People, by = "playerID") %>%
mutate(fullName = paste(nameGiven, nameLast)) %>%
select(fullName, totalHR) %>%
arrange(desc(totalHR)) %>%
slice_max(20)
r <- Batting %>%
group_by(playerID) %>%
summarise(totalHR = sum(HR)) %>%
left_join(People, by = "playerID") %>%
mutate(fullName = paste(nameGiven, nameLast)) %>%
select(fullName, totalHR) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
View(r)
table_q2 %>%
group_by(playerID) %>%
summarise(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
table_q2 <- full_join(Batting, People, by = "playerID") %>%
mutate(fullName = paste(nameGiven, nameLast))
table_q2 %>%
group_by(fullName) %>%
summarise(totalHR = sum(HR)) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
table_q2a <- Batting %>%
group_by(playerID) %>%
summarise(totalHR = sum(HR)) %>%
left_join(People, by = "playerID") %>%
mutate(fullName = paste(nameGiven, nameLast)) %>%
select(fullName, totalHR) %>%
arrange(desc(totalHR)) %>%
slice_head(n = 20)
table_q2a
table_q2a[15]
table_q2a[2]
table_q2a[1]
table_q2a[1, 15]
table_q2a(1, 15)
View(table_q3)
View(table_q3)
table_q2a[totalHR]
table_q2a['totalHR']
table_q2a['totalHR'][1]
table_q2a['totalHR'][2]
table_q2a['totalHR'].1
plunk(table_q2a['totalHR'], 1)
pluck(table_q2a['totalHR'], 1)
pluck(table_q2a['fullName'], 1)
pluck(table_q2a['fullName'])
pluck(table_q2a['fullName'], 1)
pluck(table_q2a['fullName'], 1)[1]
pluck(table_q2a['fullName'], 1)[15]
pluck(table_q2a['fullName'], 1)[1]
pluck(table_q2a['fullName'], 1)[15]
table_q3 <- Pitching %>%
group_by(playerID) %>%
summarise(totalW = sum(W), totalSO = sum(SO)) %>%
left_join(People, by = 'playerID') %>%
mutate(fullName = paste(nameGiven, nameLast)) %>%
filter(totalW >= 300&totalSO >= 3000)
View(table_q3)
table_q3 <- Pitching %>%
group_by(playerID) %>%
summarise(totalW = sum(W), totalSO = sum(SO)) %>%
left_join(People, by = 'playerID') %>%
mutate(fullName = paste(nameGiven, nameLast)) %>%
filter(totalW >= 300&totalSO >= 3000) %>%
select(fullName, totalW, totalSO)
View(table_q3)
table_q3
table_q32 <- babynames %>%
group_by(name, sex) %>%
summarise(count = sum(n)) %>%
ungroup() # 질문해 두기!
table_q32 <- babynames %>%
group_by(name, sex) %>%
summarise(count = sum(n)) %>%
ungroup() # 질문해 두기!
View(table_q32)
